<app-navbar></app-navbar>
<div class="body">
    <!-- <h5 class="sentence">Your expected revenue is <strong>₹{{data.expected_revenue | number}}</strong>, with an optimal
        revenue potential of <strong>₹{{data.optimal_revenue | number}}</strong>, which means a possible increase of
        <strong>₹{{data.revenue_increase | number}}</strong>.
    </h5> -->
    <div>
        <label>Potential uplift</label>
        <div class="stat">
            <span class="big">{{(data.optimal_yield_possible - data.prediction_tonnes_per_ha) | number:'1.3-3'}}
                t/ha</span>
            <small>difference to optimal</small>
        </div>
    </div>


    <div>
        <label>Fertilizer needed</label>
        <div class="stat">
            <span class="big">{{data.fertilizer_value_recommended_kg_ha | number:'1.1-1'}} kg/ha</span>
            <small>total recommended</small>
        </div>
    </div>


    <div>
        <label>Pesticide</label>
        <div class="stat">
            <span class="big">{{data.pesticide_value_recommended_kg_ha | number:'1.1-1'}} kg/ha</span>
            <small>recommended</small>
        </div>
    </div>



    <div class="card recommendations">
        <h2>Actionable Suggestions</h2>


        <p class="sentence">We recommend adjusting the soil pH to <strong>{{data.pH_recommended}}</strong> for better
            nutrient availability.</p>


        <p class="sentence">Add approximately <strong>{{data.p_kg_ha_to_be_added | number:'1.2-2'}} kg/ha of phosphorus
                (P)</strong> and <strong>{{data.k_kg_ha_to_be_added | number:'1.2-2'}} kg/ha of potassium (K)</strong>
            to
            meet crop needs.</p>


        <p class="sentence" *ngIf="data.n_kg_ha_to_be_added && data.n_kg_ha_to_be_added > 0">Add about
            <strong>{{data.n_kg_ha_to_be_added | number:'1.2-2'}} kg/ha of nitrogen (N)</strong> as well.
        </p>
        <p class="sentence" *ngIf="!data.n_kg_ha_to_be_added || data.n_kg_ha_to_be_added == 0">No additional nitrogen
            (N) is
            recommended at this time.</p>


        <p class="sentence">Apply roughly <strong>{{data.fertilizer_value_recommended_kg_ha | number:'1.1-1'}}
                kg/ha</strong> of the recommended fertilizer blend to achieve the optimal yield.</p>


        <p class="sentence">Use about <strong>{{data.pesticide_value_recommended_kg_ha | number:'1.1-1'}} kg/ha</strong>
            of
            pesticide as a preventative measure — follow label directions for safety and timing.</p>


        <p class="sentence">Recommended irrigation method: <strong>{{data.recommend_irrigation}}</strong>.</p>


        <p class="sentence">Based on revenue optimization, the best crop choice would be
            <strong>{{data.best_crop_by_revenue}}</strong>. <span
                *ngIf="data.revenue_increase_from_best_crop_by_revenue > 0">Switching could increase revenue by
                <strong>₹{{data.revenue_increase_from_best_crop_by_revenue | number}}</strong>.</span><span
                *ngIf="data.revenue_increase_from_best_crop_by_revenue === 0">No additional revenue is expected compared
                to
                your current crop.</span>
        </p>
    </div>


    <div class="card tips">
        <h2>Quick Tips</h2>
        <ul>
            <li>Split fertilizer application where possible — part at planting, part as top-dress.</li>
            <li>Check soil moisture before applying pesticide to avoid unnecessary loss.</li>
            <li>Follow irrigation frequency recommendations to prevent under or overwatering.</li>
            <li>Monitor crop at 10–14 day intervals and adjust inputs if symptoms show.</li>
        </ul>
    </div>
    <div class="footer">
        <button class="btn primary" (click)="exportReport()">Export Report</button>
        <button class="btn ghost" (click)="downloadCSV()">Download CSV</button>
    </div>
</div>